} else if(is.element(country,ISO_CountCodes$iso2Code)){
"iso2code"
} else if(is.element(country,ISO_CountCodes$iso3Code)){
"iso3code"
} else {"error"}
switch(
countCode,
countName = paste0(
ISO_CountCodes$iso2Code[ISO_CountCodes$countName == country],match.arg(inst), year,
stringr::str_pad(from:to,width = 5,side = "left",pad = 0)),
iso2code = paste0(
country,match.arg(inst), year,
stringr::str_pad(from:to,width = 5,side = "left",pad = 0)),
iso3code = paste0(
ISO_CountCodes$iso2Code[ISO_CountCodes$iso3Code == country],match.arg(inst), year,
stringr::str_pad(from:to,width = 5,side = "left",pad = 0)),
error = stop(paste0(country," is not a recognized country"))
)
}
dump(
genfam,
file = paste0(getwd(),"/","SPbreedR","/","R","/","genfam.R")
)
dump(
list(genfam),
file = paste0(getwd(),"/","SPbreedR","/","R","/","genfam.R")
)
dump(
"genfam",
file = paste0(getwd(),"/","SPbreedR","/","R","/","genfam.R")
)
load(file = paste0(getwd(),"/","SPbreedR","/","R","/","genfam.R"))
save(
genfam,
file = paste0(getwd(),"/","SPbreedR","/","R","/","genfam.R")
)
load(file = paste0(getwd(),"/","SPbreedR","/","R","/","genfam.R"))
View(genfam)
save(
genfam,
file = paste0(getwd(),"/","SPbreedR","/","R","/","genfam.R")
)
devtools::check(SPbreedR$path,error_on = "error")
rlang::last_trace()
load(paste0(getwd(),"/","SPbreedR","/","R","/","genfam.R"))
View(genfam)
rlang::last_trace(drop = FALSE)
?load_all
load_all("SPbreedR")
load_all(SPbreedR$path)
setwd("C:/Users/JKitalikyawe/OneDrive - CGIAR/Desktop/RefBooks/SPbreedR")
setwd("C:/Users/JKitalikyawe/OneDrive - CGIAR/Desktop/RefBooks/SPbreedR3")
load(paste0(getwd(),"/","SPbreedR","/","data","/","ISO_CountCodes.rda"))
genfam <- function(country,year = format(Sys.Date(),"%Y"),from = 1, to = 1, inst = c("N","P")){
genFam <- vector("character",length(from:to))
countCode <- if(is.element(country,ISO_CountCodes$countName)){
"countName"
} else if(is.element(country,ISO_CountCodes$iso2Code)){
"iso2code"
} else if(is.element(country,ISO_CountCodes$iso3Code)){
"iso3code"
} else {"error"}
switch(
countCode,
countName = paste0(
ISO_CountCodes$iso2Code[ISO_CountCodes$countName == country],match.arg(inst), year,
stringr::str_pad(from:to,width = 5,side = "left",pad = 0)),
iso2code = paste0(
country,match.arg(inst), year,
stringr::str_pad(from:to,width = 5,side = "left",pad = 0)),
iso3code = paste0(
ISO_CountCodes$iso2Code[ISO_CountCodes$iso3Code == country],match.arg(inst), year,
stringr::str_pad(from:to,width = 5,side = "left",pad = 0)),
error = stop(paste0(country," is not a recognized country"))
)
}
setwd("C:/Users/JKitalikyawe/OneDrive - CGIAR/Desktop/RefBooks/SPbreedR")
dir.create("data")
save(
ISO_CountCodes,
file = paste0(getwd(),"/","SPbreedR","/","data","/","ISO_CountCodes.rda")
)
save(
ISO_CountCodes,
file = paste0(getwd(),"/","data","/","ISO_CountCodes.rda")
)
remove(ISO_CountCodes)
View(ISO_CountCodes)
load(paste0(getwd(),"/","SPbreedR","/","data","/","ISO_CountCodes.rda"))
load(paste0(getwd(),"/","data","/","ISO_CountCodes.rda"))
View(ISO_CountCodes)
genfam <- function(country,year = format(Sys.Date(),"%Y"),from = 1, to = 1, inst = c("N","P")){
genFam <- vector("character",length(from:to))
countCode <- if(is.element(country,ISO_CountCodes$countName)){
"countName"
} else if(is.element(country,ISO_CountCodes$iso2Code)){
"iso2code"
} else if(is.element(country,ISO_CountCodes$iso3Code)){
"iso3code"
} else {"error"}
switch(
countCode,
countName = paste0(
ISO_CountCodes$iso2Code[ISO_CountCodes$countName == country],match.arg(inst), year,
stringr::str_pad(from:to,width = 5,side = "left",pad = 0)),
iso2code = paste0(
country,match.arg(inst), year,
stringr::str_pad(from:to,width = 5,side = "left",pad = 0)),
iso3code = paste0(
ISO_CountCodes$iso2Code[ISO_CountCodes$iso3Code == country],match.arg(inst), year,
stringr::str_pad(from:to,width = 5,side = "left",pad = 0)),
error = stop(paste0(country," is not a recognized country"))
)
}
save(
genfam,
file = paste0(getwd(),"/","R","/","genfam.R")
)
prompt("genfam",filename = paste0(getwd(),"/","man","/","genfam.Rd"))
promptData("ISO_CountCodes",filename = paste0(getwd(),"/","man","/","ISO_CountCodes.Rd"))
install.packages("available")
library(available)
available("SPbreedR")
?parse
getwd()
parse(
paste0(getwd(),"/","R","getfam.R")
)
file.exists(paste0(getwd(),"/","R","getfam.R"))
parse(
paste0(getwd(),"/","R","genfam.R")
)
file.exists(paste0(getwd(),"/","R","genfam.R"))
dir.exists(paste0(getwd(),"/","R"))
file.exists(paste0(getwd(),"/","R","/","genfam.R"))
dir.exists(paste0(getwd(),"/","R"))
parse(
paste0(getwd(),"/","R","/","genfam.R")
)
source(paste0(getwd(),"/","R","/","genfam.R"))
edit(paste0(getwd(),"/","R","/","genfam.R"))
?vi
genfam <- function(country,year = format(Sys.Date(),"%Y"),from = 1, to = 1, inst = c("N","P")){
genFam <- vector("character",length(from:to))
countCode <- if(is.element(country,ISO_CountCodes$countName)){
"countName"
} else if(is.element(country,ISO_CountCodes$iso2Code)){
"iso2code"
} else if(is.element(country,ISO_CountCodes$iso3Code)){
"iso3code"
} else {"error"}
switch(
countCode,
countName = paste0(
ISO_CountCodes$iso2Code[ISO_CountCodes$countName == country],match.arg(inst), year,
stringr::str_pad(from:to,width = 5,side = "left",pad = 0)),
iso2code = paste0(
country,match.arg(inst), year,
stringr::str_pad(from:to,width = 5,side = "left",pad = 0)),
iso3code = paste0(
ISO_CountCodes$iso2Code[ISO_CountCodes$iso3Code == country],match.arg(inst), year,
stringr::str_pad(from:to,width = 5,side = "left",pad = 0)),
error = stop(paste0(country," is not a recognized country"))
)
}
file.exists(paste0(getwd(),"/","R","/","genfam.R"))
vi(genfam,file = paste0(getwd(),"/","R","/","genfam.R"))
edit(genfam,file = paste0(getwd(),"/","R","/","genfam.R"))
edit(genfam,file = paste0(getwd(),"/","R","/","genfam.R"))
?system.file
Sys.setenv(_R_CHECK_SYSTEM_CLOCK_ = 0)
Sys.setenv("_R_CHECK_SYSTEM_CLOCK_" = 0)
file.exists(paste0(getwd(),"/","SPbreedR","/","R","/","hello.R"))
detach("package:SPbreedR", unload = TRUE)
library(SPbreedR)
genfam(country = "UG",from = 3,to = 9,inst = "P")
?.onAttach
data("ISO_CountCodes")
genfam(country = "UG",from = 3,to = 9,inst = "P")
ISO_CountCodes <- data("ISO_CountCodes")
View(ISO_CountCodes)
getwd()
setwd("C:/Users/JKitalikyawe/OneDrive - CGIAR/Desktop/RefBooks/SPbreedR")
setwd("C:/Users/JKitalikyawe/OneDrive - CGIAR/Desktop/RefBooks/SPbreedR3/SPbreedR")
load(paste0(getwd(),"/","SPbreedR","/","data","/","ISO_CountCodes.rda"))
setwd("C:/Users/JKitalikyawe/OneDrive - CGIAR/Desktop/RefBooks/SPbreedR")
load(paste0(getwd(),"/","SPbreedR","/","data","/","ISO_CountCodes.rda"))
edit(ISO_CountCodes,file = paste0(getwd(),"/","SPbreedR","/","data","/","ISO_CountCodes.rda"))
detach("package:SPbreedR", unload = TRUE)
load("C:/Users/JKitalikyawe/OneDrive - CGIAR/Desktop/RefBooks/SPbreedR/R/ISO_CountCodes.rda")
View(ISO_CountCodes)
Sys.which("dplyr")
?Sys.which
getwd()
devtools::load_all(getwd())
devtools::check(getwd())
View(ISO_CountCodes)
save(
ISO_CountCodes,
file = paste0(getwd(),"/","SPbreedR","/","R","/","sysdata.R")
)
getwd()
save(
ISO_CountCodes,
file = paste0(getwd(),"/","R","/","sysdata.R")
)
edit(paste0(getwd(),"/","R","/","sysdata.R"))
?edit
edit(ISO_CountCodes, paste0(getwd(),"/","R","/","sysdata.R"))
remove(ISO_CountCodes)
edit(ISO_CountCodes, paste0(getwd(),"/","R","/","sysdata.R"))
load("C:/Users/JKitalikyawe/OneDrive - CGIAR/Desktop/RefBooks/SPbreedR/R/ISO_CountCodes.rda")
edit(ISO_CountCodes, paste0(getwd(),"/","R","/","sysdata.R"))
usethis::use_data(ISO_CountCodes)
usethis::use_data(ISO_CountCodes,internal = TRUE)
usethis::use_data(ISO_CountCodes)
usethis::use_data(ISO_CountCodes)
genfam <- function(country,year = format(Sys.Date(),"%Y"),from = 1, to = 1, inst = c("N","P")){
genFam <- vector("character",length(from:to))
ISO_CountCodes <- load(paste0(getwd(),"/","data","/","ISO_CountCodes.rda"))
countCode <- if(is.element(country,ISO_CountCodes$countName)){
"countName"
} else if(is.element(country,ISO_CountCodes$iso2Code)){
"iso2code"
} else if(is.element(country,ISO_CountCodes$iso3Code)){
"iso3code"
} else {"error"}
switch(
countCode,
countName = paste0(
ISO_CountCodes$iso2Code[ISO_CountCodes$countName == country],match.arg(inst), year,
stringr::str_pad(from:to,width = 5,side = "left",pad = 0)),
iso2code = paste0(
country,match.arg(inst), year,
stringr::str_pad(from:to,width = 5,side = "left",pad = 0)),
iso3code = paste0(
ISO_CountCodes$iso2Code[ISO_CountCodes$iso3Code == country],match.arg(inst), year,
stringr::str_pad(from:to,width = 5,side = "left",pad = 0)),
error = stop(paste0(country," is not a recognized country"))
)
}
edit(genfam,paste0(getwd(),"/","R","/","genfam.R"))
View(ISO_CountCodes)
genfam <- function(country,year = format(Sys.Date(),"%Y"),from = 1, to = 1, inst = c("N","P")){
genFam <- vector("character",length(from:to))
load(paste0(getwd(),"/","data","/","ISO_CountCodes.rda"))
countCode <- if(is.element(country,ISO_CountCodes$countName)){
"countName"
} else if(is.element(country,ISO_CountCodes$iso2Code)){
"iso2code"
} else if(is.element(country,ISO_CountCodes$iso3Code)){
"iso3code"
} else {"error"}
switch(
countCode,
countName = paste0(
ISO_CountCodes$iso2Code[ISO_CountCodes$countName == country],match.arg(inst), year,
stringr::str_pad(from:to,width = 5,side = "left",pad = 0)),
iso2code = paste0(
country,match.arg(inst), year,
stringr::str_pad(from:to,width = 5,side = "left",pad = 0)),
iso3code = paste0(
ISO_CountCodes$iso2Code[ISO_CountCodes$iso3Code == country],match.arg(inst), year,
stringr::str_pad(from:to,width = 5,side = "left",pad = 0)),
error = stop(paste0(country," is not a recognized country"))
)
}
edit(genfam,paste0(getwd(),"/","R","/","genfam.R"))
edit(genfam,paste0(getwd(),"/","R","/","genfam.R"))
genfam <- function(country,year = format(Sys.Date(),"%Y"),from = 1, to = 1, inst = c("N","P")){
genFam <- vector("character",length(from:to))
countCode <- if(is.element(country,ISO_CountCodes$countName)){
"countName"
} else if(is.element(country,ISO_CountCodes$iso2Code)){
"iso2code"
} else if(is.element(country,ISO_CountCodes$iso3Code)){
"iso3code"
} else {"error"}
switch(
countCode,
countName = paste0(
ISO_CountCodes$iso2Code[ISO_CountCodes$countName == country],match.arg(inst), year,
stringr::str_pad(from:to,width = 5,side = "left",pad = 0)),
iso2code = paste0(
country,match.arg(inst), year,
stringr::str_pad(from:to,width = 5,side = "left",pad = 0)),
iso3code = paste0(
ISO_CountCodes$iso2Code[ISO_CountCodes$iso3Code == country],match.arg(inst), year,
stringr::str_pad(from:to,width = 5,side = "left",pad = 0)),
error = stop(paste0(country," is not a recognized country"))
)
}
edit(genfam,paste0(getwd(),"/","R","/","genfam.R"))
usethis::use_data(ISO_CountCodes)
library(SPbreedR)
detach("package:SPbreedR", unload = TRUE)
library(SPbreedR)
detach("package:SPbreedR", unload = TRUE)
library(SPbreedR)
library(SPbreedR)
genfam(
country = "Uganda", year = 2023,from = 4,to = 37,inst = "P"
)
myfam <- genfam(
country = "UG", year = 2022,from = 2,to = 57,inst = "P"
)
head(myfam)
detach("package:SPbreedR", unload = TRUE)
?loadNamespace
library(tools, lib.loc = "C:/Program Files/R/R-4.3.1/library")
?hasArg
account <- function(total){
list (
balance <- function() total,
deposit <- function (amount) total «- total + amount,
account <- function(total){
list (
balance <- function() total,
deposit <- function (amount) total <<- total + amount,
withdraw <- function (amount) total <<- total - amount)
}
myAcct <- account(20000)
myAcct
myAcct$balance
account <- function(total){
list (
balance <- function() total,
deposit <- function (amount) total <<- total + amount,
withdraw <- function (amount) total <<- total - amount)
list(balance = balance, deposit = deposit, withdraw = withdraw)
}
myAcct <- account(20000)
myAcct
myAcct$balance
Robert <- account(1000)
Ross <- account(500)
Robert$deposit(100)
Ross$withdraw(150)
Robert$balance()
Ross$balance()
Robert$deposit(600)
Robert$balance()
setwd("C:/Users/JKitalikyawe/OneDrive - CGIAR/Desktop/RefBooks/SPbreedR")
setwd("C:/Users/JKitalikyawe/OneDrive - CGIAR/Desktop/RefBooks/SPbreedR")
Sys.setenv("_R_CHECK_SYSTEM_CLOCK_" = 0)
library(SPbreedR)
detach("package:SPbreedR", unload = TRUE)
genfam <- function(country,year = format(Sys.Date(),"%Y"),from = 1, to = 1, inst = c("N","P")){
genFam <- vector("character",length(from:to))
countCode <- if(is.element(country,ISO_CountCodes$countName)){
"countName"
} else if(is.element(country,ISO_CountCodes$iso2Code)){
"iso2code"
} else if(is.element(country,ISO_CountCodes$iso3Code)){
"iso3code"
} else {"error"}
switch(
countCode,
countName = paste0(
ISO_CountCodes$iso2Code[ISO_CountCodes$countName == country],match.arg(inst), year,
stringr::str_pad(from:to,width = 5,side = "left",pad = 0)),
iso2code = paste0(
country,match.arg(inst), year,
stringr::str_pad(from:to,width = 5,side = "left",pad = 0)),
iso3code = paste0(
ISO_CountCodes$iso2Code[ISO_CountCodes$iso3Code == country],match.arg(inst), year,
stringr::str_pad(from:to,width = 5,side = "left",pad = 0)),
error = stop(paste0(country," is not a recognized country"))
)
}
Sys.Date()
?sprintf
sprintf(fmt = ".0%f",1055)
sprintf(fmt = "f.0",1055)
sprintf(fmt = "5.0f",1055)
sprintf(fmt = "5f",1055)
sprintf(fmt = ".5f",1055)
sprintf(fmt = "%.5f",1055)
sprintf(fmt = "%.0f",1055)
sprintf(fmt = "%4.0f",1055)
sprintf(fmt = "%40.0f",1)
sprintf(fmt = "%04.0f",1)
genTName <- function(country,year = format(Sys.Date(),"%Y"),location = character(),
type = c("SN", "OT","PT","AT","ST","FT","CT"), inst = c("N","P"),
trNumber = integer()){
countCode <- if(is.element(country,ISO_CountCodes$countName)){
"countName"
} else if(is.element(country,ISO_CountCodes$iso2Code)){
"iso2code"
} else if(is.element(country,ISO_CountCodes$iso3Code)){
"iso3code"
} else {"error"}
switch(
countCode,
countName = paste0(
ISO_CountCodes$iso2Code[ISO_CountCodes$countName == country],match.arg(inst), year,
paste0(toupper(substr(location,start = 1,stop = 3)),"-"),match.arg(type),sprintf(trNumber,"%02")),
iso2code = paste0(
country,match.arg(inst), year,
paste0(toupper(substr(location,start = 1,stop = 3)),"-"),match.arg(type),sprintf(trNumber,"%02")),
iso3code = paste0(
ISO_CountCodes$iso2Code[ISO_CountCodes$iso3Code == country],match.arg(inst), year,
paste0(toupper(substr(location,start = 1,stop = 3)),"-"),match.arg(type),sprintf(trNumber,"%02")),
error = stop(paste0(country," is not a recognized country"))
)
}
genTName(
country = "Uganda",location = "Namulonge",type = "PT",inst = "P",trNumber = 2
)
library(SPbreedR)
genTName(
country = "Uganda",location = "Namulonge",type = "PT",inst = "P",trNumber = 2
)
genTName <- function(country,year = format(Sys.Date(),"%Y"),location = character(),
type = c("SN", "OT","PT","AT","ST","FT","CT"), inst = c("N","P"),
trNumber = integer()){
countCode <- if(is.element(country,ISO_CountCodes$countName)){
"countName"
} else if(is.element(country,ISO_CountCodes$iso2Code)){
"iso2code"
} else if(is.element(country,ISO_CountCodes$iso3Code)){
"iso3code"
} else {"error"}
switch(
countCode,
countName = paste0(
ISO_CountCodes$iso2Code[ISO_CountCodes$countName == country],match.arg(inst), year,
paste0(toupper(substr(location,start = 1,stop = 3)),"-"),match.arg(type),sprintf(trNumber,"%02.0")),
iso2code = paste0(
country,match.arg(inst), year,
paste0(toupper(substr(location,start = 1,stop = 3)),"-"),match.arg(type),sprintf(trNumber,"%02.0")),
iso3code = paste0(
ISO_CountCodes$iso2Code[ISO_CountCodes$iso3Code == country],match.arg(inst), year,
paste0(toupper(substr(location,start = 1,stop = 3)),"-"),match.arg(type),sprintf(trNumber,"%02.0")),
error = stop(paste0(country," is not a recognized country"))
)
}
genTName(
country = "Uganda",location = "Namulonge",type = "PT",inst = "P",trNumber = 2
)
sprintf(2,"%02.0")
sprintf("2","%02.0")
sprintf(c(2),"%02.0")
sprintf(c(2),"%02.0f")
sprintf(2,"%02.0f")
sprintf("%02.0f",2)
genTName <- function(country,year = format(Sys.Date(),"%Y"),location = character(),
type = c("SN", "OT","PT","AT","ST","FT","CT"), inst = c("N","P"),
trNumber = integer()){
countCode <- if(is.element(country,ISO_CountCodes$countName)){
"countName"
} else if(is.element(country,ISO_CountCodes$iso2Code)){
"iso2code"
} else if(is.element(country,ISO_CountCodes$iso3Code)){
"iso3code"
} else {"error"}
switch(
countCode,
countName = paste0(
ISO_CountCodes$iso2Code[ISO_CountCodes$countName == country],match.arg(inst), year,
paste0(toupper(substr(location,start = 1,stop = 3)),"-"),match.arg(type),sprintf("%02.0f",trNumber)),
iso2code = paste0(
country,match.arg(inst), year,
paste0(toupper(substr(location,start = 1,stop = 3)),"-"),match.arg(type),sprintf("%02.0f",trNumber)),
iso3code = paste0(
ISO_CountCodes$iso2Code[ISO_CountCodes$iso3Code == country],match.arg(inst), year,
paste0(toupper(substr(location,start = 1,stop = 3)),"-"),match.arg(type),sprintf("%02.0f",trNumber)),
error = stop(paste0(country," is not a recognized country"))
)
}
genTName(
country = "Uganda",location = "Namulonge",type = "PT",inst = "P",trNumber = 2
)
genTName(
country = "Uganda",location = "Serere",type = "OT",inst = "P",trNumber = 1
)
genTName(
country = "Uganda",location = "Serere",type = "OT",inst = "P",trNumber = 1,year = 2023
)
genTName(
country = "Uganda",location = "Kapiti",type = "PT",inst = "P",trNumber = 2
)
genTName(
country = "Uganda",location = "Bulindi",type = "AT",inst = "P",trNumber = 3
)
edit(genTName,paste0(getwd(),"/","R","/","genTName.R"))
prompt(
genTName,paste0(getwd(),"/","man","/","genTName.Rd")
)
detach("package:SPbreedR", unload = TRUE)
library(SPbreedR)
genTName(
country = "Uganda",location = "Namulonge",type = "PT",inst = "P",trNumber = 2
)
genTName(
country = "Kenya",location = "Serere",type = "OT",inst = "P",trNumber = 1,year = 2023
)
genTName(
country = "Uganda",location = "Serere",type = "OT",inst = "P",trNumber = 1,year = 2023
)
genTName(
country = "Uganda",location = "Kapiti",type = "PT",inst = "P",trNumber = 2
)
genTName(
country = "Uganda",location = "Abi",type = "PT",inst = "P",trNumber = 2
)
genTName(
country = "Uganda",location = "Bulindi",type = "AT",inst = "P",trNumber = 3
)
detach("package:SPbreedR", unload = TRUE)
library(SPbreedR)
detach("package:SPbreedR", unload = TRUE)
